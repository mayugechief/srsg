<% form_class = "textarea" + Time.now.to_f.to_s.sub(".", "") %>

<dl class="see">
  <dt class="wide"><%= @model.lang :html %></dt>
  <dd class="wide"><%= f.text_area :html, class: form_class, style: "height: 340px;" %></dd>
</dl>

<%= javascript_tag do %>
$(function(){

tinymce.init({
  selector: "textarea.<%= form_class %>",
  language: "ja",
  
  //# default
  //plugins: [
  //  "autolink lists link image charmap print preview anchor",
  //  "searchreplace visualblocks code fullscreen",
  //  "insertdatetime media table contextmenu paste"
  //],
  //toolbar: "insertfile undo redo | styleselect | bold italic" +
  //  " | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"

  //# advanced: http://www.tinymce.com/wiki.php/Advanced
  plugins: [
    "advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker",
    "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
    "save table contextmenu directionality emoticons template paste textcolor"
  ],
  toolbar: "insertfile undo redo | styleselect | bold italic | forecolor backcolor" +
    " | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media"

});

});
<% end %>
